"use strict";(self["webpackChunkprojectcuoiky"]=self["webpackChunkprojectcuoiky"]||[]).push([[332],{6332:function(e,l,i){i.r(l),i.d(l,{default:function(){return Y}});var t=i(6252),n=i(9963),s=i(3577);const o=e=>((0,t.dD)("data-v-94ab2034"),e=e(),(0,t.Cn)(),e),r=o((()=>(0,t._)("div",{class:"heading"},[(0,t._)("h1",null,"Sửa sản phẩm")],-1))),h=o((()=>(0,t._)("label",null,"Tên sản phẩm:",-1))),a=o((()=>(0,t._)("label",null,"Giá:",-1))),u=o((()=>(0,t._)("label",null,"Giá giảm:",-1))),p=o((()=>(0,t._)("label",null,"Màu sắc:",-1))),m=["onUpdate:modelValue"],c=o((()=>(0,t._)("i",{class:"fa-solid fa-plus"},null,-1))),g=[c],d=o((()=>(0,t._)("i",{class:"fa-solid fa-minus"},null,-1))),y=[d],_=o((()=>(0,t._)("label",null,"Kích thước:",-1))),f=["onUpdate:modelValue"],b=o((()=>(0,t._)("label",null,"Hình ảnh:",-1))),w=["for"],k=["id","onChange"],v=o((()=>(0,t._)("label",null,"Tồn kho:",-1))),C=o((()=>(0,t._)("label",null,"Giới tính:",-1))),V=o((()=>(0,t._)("option",{value:"Nam"},"Nam",-1))),D=o((()=>(0,t._)("option",{value:"Nữ"},"Nữ",-1))),z=o((()=>(0,t._)("option",{value:"Unisex"},"Unisex",-1))),I=[V,D,z],S={class:"error"},U=o((()=>(0,t._)("button",null,"Cập nhật",-1)));function N(e,l,i,o,c,d){return(0,t.wg)(),(0,t.iD)("main",null,[r,o.item?((0,t.wg)(),(0,t.iD)("form",{key:0,onSubmit:l[7]||(l[7]=(0,n.iM)((e=>o.submit()),["prevent"]))},[h,(0,t.wy)((0,t._)("input",{type:"text",placeholder:"Nhập tên sản phẩm","onUpdate:modelValue":l[0]||(l[0]=e=>o.item.name=e)},null,512),[[n.nr,o.item.name]]),a,(0,t.wy)((0,t._)("input",{type:"number",placeholder:"Nhập giá sản phẩm","onUpdate:modelValue":l[1]||(l[1]=e=>o.item.price=e)},null,512),[[n.nr,o.item.price]]),u,(0,t.wy)((0,t._)("input",{type:"number",placeholder:"Nhập giá giảm","onUpdate:modelValue":l[2]||(l[2]=e=>o.item.price_sale=e)},null,512),[[n.nr,o.item.price_sale]]),p,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.listColor,((e,l)=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("input",{key:l,type:"text",placeholder:"Nhập màu sắc","onUpdate:modelValue":e=>o.listColor[l]=e},null,8,m)),[[n.nr,o.listColor[l]]]))),128)),(0,t._)("span",{onClick:l[3]||(l[3]=e=>o.addList()),class:"btnAdd"},g),o.listColor.length>=2?((0,t.wg)(),(0,t.iD)("span",{key:0,onClick:l[4]||(l[4]=e=>o.removeList()),class:"btnRemove"},y)):(0,t.kq)("",!0),_,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.listSize,((e,l)=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("input",{key:l,type:"text",placeholder:"Nhập kích thước","onUpdate:modelValue":e=>o.listSize[l]=e},null,8,f)),[[n.nr,o.listSize[l]]]))),128)),b,((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.listImage,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"form-fil",key:l},[(0,t._)("label",{for:l,class:"file"},(0,s.zw)(e),9,w),(0,t.wy)((0,t._)("input",{id:l,onChange:e=>o.changImg(e,l),type:"file"},null,40,k),[[n.F8,!1]])])))),128)),v,(0,t.wy)((0,t._)("input",{type:"number",placeholder:"Nhập số lượng tồn kho","onUpdate:modelValue":l[5]||(l[5]=e=>o.item.inventory=e)},null,512),[[n.nr,o.item.inventory]]),C,(0,t.wy)((0,t._)("select",{"onUpdate:modelValue":l[6]||(l[6]=e=>o.item.sex=e)},I,512),[[n.bM,o.item.sex]]),(0,t._)("div",S,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.error,((e,l)=>((0,t.wg)(),(0,t.iD)("div",{class:"item",key:l},(0,s.zw)(e),1)))),128))]),U],32)):(0,t.kq)("",!0)])}i(7658);var x=i(2262),F=i(3699),H=i(3907),K=i(2201),j={setup(){const e=(0,H.oR)(),l=(0,K.yj)(),i=(0,x.qj)([]),n=(0,t.Fl)((()=>e.getters.getProductID(l.params.id))),s=(0,t.Fl)((()=>n.value.color)),o=(0,t.Fl)((()=>n.value.size)),r=(0,t.Fl)((()=>n.value.image));async function h(){if(this.error.splice(0,this.error.length),""==this.item.name||null==this.item.price||null==this.item.price_sale||null==this.item.inventory||""==this.item.sex)this.error.push("Vui lòng nhập đầy đủ thông tin");else{for(let e=0;e<this.listColor.length;e++)if(""==this.listColor[e]){this.error.push("Vui lòng nhập đầy đủ màu sắc");break}for(let e=0;e<this.listImage.length;e++)if(""==this.listImage[e]){this.error.push("Vui lòng chọn đầy đủ hình ảnh");break}for(let e=0;e<this.listSize.length;e++)if(""==this.listSize[e]){this.error.push("Vui lòng nhập đầy đủ kích thước");break}(this.item.price<=0||this.price<this.price_sale)&&this.error.push("Vui lòng nhập lại giá"),this.price_sale<=0&&this.error.push("Vui lòng nhập lại giá giảm"),this.item.inventory<=0&&this.error.push("Vui lòng nhập giá số lượng tồn kho")}0==this.error.length&&((0,F.Gr)(l.params.id,this.item),alert("Cập nhật sản phẩm thành công"),window.location.reload())}function a(){this.listColor.push(""),this.listImage.push(""),this.listSize.push("")}function u(e,l){this.listImage[l]=e.target.files[0].name}function p(){this.listColor.splice(this.listColor.length-1,1),this.listImage.splice(this.listImage.length-1,1),this.listSize.splice(this.listSize.length-1,1)}return{listColor:s,listSize:o,listImage:r,item:n,submit:h,addList:a,changImg:u,error:i,removeList:p}}},G=i(3744);const L=(0,G.Z)(j,[["render",N],["__scopeId","data-v-94ab2034"]]);var Y=L}}]);
//# sourceMappingURL=332.29de9ea7.js.map